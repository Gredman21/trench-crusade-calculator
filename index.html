<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Calculadora de Probabilidades</title>
    <link rel="stylesheet" href="style.css">
</head>
<body id="body" class="dark">
    <div class="container">
        <h1>Trench Crusade Atk/Dmg Calculator</h1>

        <div>
            <button id="theme-btn" type="button" onclick="toggleTheme()">Toggle Theme</button>
        </div>

        <div class="inputs">
            <div class="loadouts">
                <div id="rifle" class="loadout-button" onclick="loadRifle()">
                    Rifle
                </div>
                <div id="shotgun" class="loadout-button" onclick="loadShotgun()">
                    Shotgun
                </div>
                <div id="heavy-shotgun" class="loadout-button" onclick="loadHeavyShotgun()">
                    Heavy Shotgun
                </div>
                <div id="sacrificial-knife" class="loadout-button" onclick="loadSacrificialKnife()">
                    Sacrificial Knife
                </div>
                <div id="hellblade" class="loadout-button" onclick="loadHellblade()">
                    Hellblade
                </div>
            </div>
            <div class="input-left">
                <label>+/- DICE Attack Roll:
                    <input type="number" id="diceModifierAtk" value="0">
                </label>
                <label>Add Dice to Sum Attack Roll:
                    <input type="number" id="diceAddSumAtk" min="0" value="0">
                </label>
                <label>Long Range Penalty Attack Roll:
                    <input type="number" id="longRangePenaltyAtk" max="0" value="-1">
                </label>
                <label>Flat Modifier Attack Roll:
                    <input type="number" id="flatModifierAtk" value="0">
                </label>
            </div>
            <div class="input-right">
                <label>+/- DICE Injury Roll:
                    <input type="number" id="diceModifierInjury" value="0">
                </label>
                <label>Add Dice to Sum Injury Roll:
                    <input type="number" id="diceAddSumInjury" min="0" value="0">
                </label>
                <label>Long Range Penalty Injury Roll:
                    <input type="number" id="longRangePenaltyInjury" max="0" value="0">
                </label>
                <label>Flat Modifier Injury Roll:
                    <input type="number" id="flatModifierInjury" value="0">
                </label>
                <label>+/- DICE CRITICAL Effect:
                    <input type="number" id="critAddDiceModifier" min="0" value="1">
                </label>
                <label>Set die to 6 Injury Roll
                    <input type="checkbox" id="guaranteedSix">
                </label>
                <label>Bloodbath
                    <input type="checkbox" id="bloodbath">
                </label>
            </div>
        </div>

        <div>
            <button type="button" onclick="updateTables()">Calculate</button>
        </div>

        <h2>Resultados</h2>
        <table>
            <thead>
                <tr>
                    <th></th>
                    <th colspan="3">Atk</th>
                    <th colspan="4">Injury</th>
                </tr>
                <tr>
                    <th></th>
                    <th>Fail</th>
                    <th>Success</th>
                    <th>Crit</th>
                    <th>No Dmg</th>
                    <th>Minor</th>
                    <th>Down</th>
                    <th>Kill</th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td>Short Range</td>
                    <td id="short-atk-fail"></td>
                    <td id="short-atk-success"></td>
                    <td id="short-atk-critical"></td>
                    <td id="short-injury-no-effect"></td>
                    <td id="short-injury-minor-hit"></td>
                    <td id="short-injury-down"></td>
                    <td id="short-injury-kill"></td>
                </tr>
                <tr>
                    <td>Long Range</td>
                    <td id="long-atk-fail"></td>
                    <td id="long-atk-success"></td>
                    <td id="long-atk-critical"></td>
                    <td id="long-injury-no-effect"></td>
                    <td id="long-injury-minor-hit"></td>
                    <td id="long-injury-down"></td>
                    <td id="long-injury-kill"></td>
                </tr>
            </tbody>
        </table>

        <table>
            <thead>
                <tr>
                    <th></th>
                    <th>1 Atk Hit Kill</th>
                    <th>2 Atk Hit Kill</th>
                    <th>3 Atk Hit Kill</th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td>Short Range</td>
                    <td id="short-1atk-hit-kill"></td>
                    <td id="short-2atk-hit-kill"></td>
                    <td id="short-3atk-hit-kill"></td>
                </tr>
                <tr>
                    <td>Long Range</td>
                    <td id="long-1atk-hit-kill"></td>
                    <td id="long-2atk-hit-kill"></td>
                    <td id="long-3atk-hit-kill"></td>
                </tr>
            </tbody>
        </table>
    </div>

    <div class="overlay" id="overlay">
        <div class="modal">
            <div class="spinner"></div>
            <p>Carregando...</p>
        </div>
    </div>

    <script src="lib/base-rolls.js"></script>
    <script src="lib/probability-calculator.js"></script>
    <script src="script.js"></script>
</body>
</html>
